generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id            Int        @id @default(autoincrement())
  name          String     @db.Text
  email         String     @db.Text
  password_hash String     @db.Text
  create_date   DateTime   @db.DateTime(0)
  status_flag   Boolean
  reserves      reserves[]
}

model renters {
  id          Int        @id @default(autoincrement())
  name        String     @db.Text
  cpnj        String     @db.Text
  id_contact  Int?
  create_date DateTime   @db.DateTime(0)
  reserves    reserves[]
}

model reserves {
  id              Int      @id @default(autoincrement())
  id_renter       Int
  event_name      String   @db.Text
  start_date      DateTime @db.Date
  final_date      DateTime @db.Date
  total_amount    Float    @db.Float
  received_amount Float    @db.Float
  balance         Float    @db.Float
  create_by       Int
  create_date     DateTime @db.DateTime(0)
  renters         renters  @relation(fields: [id_renter], references: [id], onUpdate: Restrict, map: "reserves_ibfk_1")
  users           users    @relation(fields: [create_by], references: [id], onUpdate: Restrict, map: "reserves_ibfk_2")

  @@index([create_by], map: "create_by")
  @@index([id_renter], map: "id_renter")
}
