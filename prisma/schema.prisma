generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id            Int        @id @default(autoincrement())
  name          String     @db.Text
  email         String     @db.Text
  password_hash String     @db.Text
  create_date   DateTime   @db.DateTime(0)
  status_flag   Boolean
  reserves      reserves[]
}

model renters {
  id            Int             @id @default(autoincrement())
  name          String          @db.Text
  cnpj          String          @db.Text
  email         String          @db.Text
  create_date   DateTime        @db.DateTime(0)
  renters_phone renters_phone[]
  reserves      reserves[]
}

model reserves {
  id              Int      @id @default(autoincrement())
  id_renter       Int
  event_name      String   @db.Text
  start_date      String   @db.Text
  final_date      String   @db.Text
  total_amount    Float    @db.Float
  received_amount Float?   @db.Float
  balance         Float    @db.Float
  observation     String?  @db.Text
  create_by       Int
  create_date     DateTime @db.DateTime(0)
  renters         renters  @relation(fields: [id_renter], references: [id], onUpdate: Restrict, map: "reserves_ibfk_1")
  users           users    @relation(fields: [create_by], references: [id], onUpdate: Restrict, map: "reserves_ibfk_2")

  @@index([create_by], map: "create_by")
  @@index([id_renter], map: "id_renter")
}

model payment_types {
  id           Int      @id @default(autoincrement())
  payment_type String   @db.Text
  create_by    Int
  create_date  DateTime @db.DateTime(0)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model reserves_log {
  id              Int
  id_reserve      Int
  id_payment_type Int
  amount          Float    @db.Float
  create_by       Int
  create_date     DateTime @db.DateTime(0)

  @@ignore
}

model renters_phone {
  id          Int      @id @default(autoincrement())
  id_renter   Int
  phone       String   @db.Text
  create_date DateTime @db.DateTime(0)
  renters     renters  @relation(fields: [id_renter], references: [id], onUpdate: Restrict, map: "renters_phone_ibfk_1")

  @@index([id_renter], map: "id_renter")
}
